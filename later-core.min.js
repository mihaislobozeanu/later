later=(()=>{let z={version:"1.0.0"},a=(Array.prototype.indexOf||(Array.prototype.indexOf=function(n){if(null==this)throw new TypeError;var a=Object(this),r=a.length>>>0;if(0!=r){let e=0;if(1<arguments.length&&((e=Number(arguments[1]))!=e?e=0:0!=e&&e!=1/0&&e!=-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e)))),!(e>=r)){let t=0<=e?e:Math.max(r-Math.abs(e),0);for(;t<r;t++)if(t in a&&a[t]===n)return t}}return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),z.array={},z.array.sort=function(t,e){t.sort(function(t,e){return+t-+e}),e&&0===t[0]&&t.push(t.shift())},z.array.next=function(e,n,a){let r,l=0;var u=0!==a[0];for(let t=n.length-1;-1<t;--t){if((r=n[t])===e)return r;if(!(e<r||0===r&&u&&a[1]>e))break;l=t}return n[l]},z.array.nextInvalid=function(t,e,n){var a=n[0],r=n[1],l=e.length,u=0===e[l-1]&&0!==a?r:0;let i=t,v=e.indexOf(t);for(var o=i;i===(e[v]||u);)if(++i>r&&(i=a),++v===l&&(v=0),i===o)return;return i},z.array.prev=function(e,n,a){var r,l=n.length,u=0!==a[0];let i=l-1;for(let t=0;t<l;t++){if((r=n[t])===e)return r;if(!(r<e||0===r&&u&&a[1]<e))break;i=t}return n[i]},z.array.prevInvalid=function(t,e,n){var a=n[0],r=n[1],l=e.length,u=0===e[l-1]&&0!==a?r:0;let i=t,v=e.indexOf(t);for(var o=i;i===(e[v]||u);)if(--i<a&&(i=r),-1===--v&&(v=l-1),i===o)return;return i},z.day=z.D={name:"day",range:86400,val:function(t){return t.D||(t.D=z.date.getDate.call(t))},isValid:function(t,e){return z.D.val(t)===(e||z.D.extent(t)[1])},extent:function(t){if(t.DExtent)return t.DExtent;var e=z.M.val(t);let n=z.DAYS_IN_MONTH[e-1];return 2===e&&366===z.dy.extent(t)[1]&&(n+=1),t.DExtent=[1,n]},start:function(t){return t.DStart||(t.DStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)))},end:function(t){return t.DEnd||(t.DEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)))},next:function(t,e){e=e>z.D.extent(t)[1]?1:e;var t=z.date.nextRollover(t,e,z.D,z.M),n=z.D.extent(t)[1];return e=n<e?1:e||n,z.date.next(z.Y.val(t),z.M.val(t),e)},prev:function(t,e){var t=z.date.prevRollover(t,e,z.D,z.M),n=z.D.extent(t)[1];return z.date.prev(z.Y.val(t),z.M.val(t),!(n<e)&&e||n)}},z.dayEx=z.DX={rangeStart:new Date(2015,0,1),rangeEnd:new Date(2050,0,1),name:"dayEx",range:86400,val:function(t){return t.DX||(t.DX=z.date.diffInDays(z.DX.rangeStart,t))},isValid:function(t,e){return z.DX.val(t)===(e||z.DX.extent(t)[1])},extent:function(t){var e;return t.DXExtent||(e=Math.floor(z.DX.rangeEnd.getTime()/z.DAY)-Math.floor(z.DX.rangeStart.getTime()/z.DAY),t.DXExtent=[1,e])},start:function(t){return t.DXStart||(t.DXStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)))},end:function(t){return t.DXEnd||(t.DXEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)))},next:function(t,e){return new Date(z.DX.rangeStart.getTime()+e*z.DAY)},prev:function(t,e){return new Date(z.DX.rangeStart.getTime()+e*z.DAY)}},z.weekday=z.WD={name:"weekday",range:86400,val:function(t){var e,n;return t.WD||(e=z.WD.weekdaysInMonth(t),n=z.date.getDate.call(t),t.WD=e.map[n].value+1)},weekdaysInMonth:function(t){return t.weekdaysInMonth||(t.weekdaysInMonth=z.date.weekdaysInMonth(t))},isValid:function(t,e){return z.WD.val(t)===(e||z.WD.extent(t)[1])&&(e=z.WD.weekdaysInMonth(t),t=z.date.getDate.call(t),e.map[t].valid)},extent:function(t){var e;return t.WDExtent||(e=z.WD.weekdaysInMonth(t),t.WDExtent=[1,e.values.length])},start:function(t){return t.WDStart||(t.WDStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)))},end:function(t){return t.WDEnd||(t.WDEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)))},next:function(t,e){var n=z.WD.extent(t)[1],a=(e=n<e?1:e,z.WD.weekdaysInMonth(t)),r=a.values[(e||n)-1],t=z.date.nextRollover(t,r,z.D,z.M);return e=(n=z.WD.extent(t)[1])<e?1:e||n,r=(a=z.WD.weekdaysInMonth(t)).values[e-1],z.date.next(z.Y.val(t),z.M.val(t),r)},prev:function(t,e){var n=z.WD.weekdaysInMonth(t).values[(e||a)-1],t=z.date.prevRollover(t,n,z.D,z.M),a=z.WD.extent(t)[1];return e=!(a<e)&&e||a,n=z.WD.weekdaysInMonth(t).values[e-1],z.date.prev(z.Y.val(t),z.M.val(t),n)}},z.weekendDay=z.WED={name:"weekendDay",range:86400,val:function(t){var e,n;return t.WED||(e=z.WED.weekendDaysInMonth(t),n=z.date.getDate.call(t),t.WED=e.map[n].value+1)},weekendDaysInMonth:function(t){return t.weekendDaysInMonth||(t.weekendDaysInMonth=z.date.weekendDaysInMonth(t))},isValid:function(t,e){return z.WED.val(t)===(e||z.WED.extent(t)[1])&&(e=z.WED.weekendDaysInMonth(t),t=z.date.getDate.call(t),e.map[t].valid)},extent:function(t){var e;return t.WDExtent||(e=z.WED.weekendDaysInMonth(t),t.WDExtent=[1,e.values.length])},start:function(t){return t.WDStart||(t.WDStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)))},end:function(t){return t.WDEnd||(t.WDEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)))},next:function(t,e){var n=z.WED.extent(t)[1],a=(e=n<e?1:e,z.WED.weekendDaysInMonth(t)),r=a.values[(e||n)-1],t=z.date.nextRollover(t,r,z.D,z.M);return e=(n=z.WED.extent(t)[1])<e?1:e||n,r=(a=z.WED.weekendDaysInMonth(t)).values[e-1],z.date.next(z.Y.val(t),z.M.val(t),r)},prev:function(t,e){var n=z.WD.weekendDaysInMonth(t).values[(e||a)-1],t=z.date.prevRollover(t,n,z.D,z.M),a=z.WD.extent(t)[1];return e=!(a<e)&&e||a,n=z.WD.weekendDaysInMonth(t).values[e-1],z.date.prev(z.Y.val(t),z.M.val(t),n)}},z.dayOfWeekCount=z.dc={name:"day of week count",range:604800,val:function(t){return t.dc||(t.dc=Math.floor((z.D.val(t)-1)/7)+1)},isValid:function(t,e){return z.dc.val(t)===e||0===e&&z.D.val(t)>z.D.extent(t)[1]-7},extent:function(t){return t.dcExtent||(t.dcExtent=[1,Math.ceil(z.D.extent(t)[1]/7)])},start:function(t){return t.dcStart||(t.dcStart=z.date.next(z.Y.val(t),z.M.val(t),Math.max(1,7*(z.dc.val(t)-1)+1||1)))},end:function(t){return t.dcEnd||(t.dcEnd=z.date.prev(z.Y.val(t),z.M.val(t),Math.min(7*z.dc.val(t),z.D.extent(t)[1])))},next:function(t,e){e=e>z.dc.extent(t)[1]?1:e;var n=z.date.nextRollover(t,e,z.dc,z.M),a=(e=z.dc.extent(n)[1]<e?1:e,z.date.next(z.Y.val(n),z.M.val(n),0===e?z.D.extent(n)[1]-6:1+7*(e-1)));return a.getTime()<=t.getTime()?(n=z.M.next(t,z.M.val(t)+1),z.date.next(z.Y.val(n),z.M.val(n),0===e?z.D.extent(n)[1]-6:1+7*(e-1))):a},prev:function(t,e){var t=z.date.prevRollover(t,e,z.dc,z.M),n=z.dc.extent(t)[1];return e=!(n<e)&&e||n,z.dc.end(z.date.prev(z.Y.val(t),z.M.val(t),1+7*(e-1)))}},z.dayOfWeek=z.dw=z.d={name:"day of week",range:86400,val:function(t){return t.dw||(t.dw=z.date.getDay.call(t)+1)},isValid:function(t,e){return z.dw.val(t)===(e||7)},extent:function(){return[1,7]},start:function(t){return z.D.start(t)},end:function(t){return z.D.end(t)},next:function(t,e){return e=7<e?1:e||7,z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)+(e-z.dw.val(t))+(e<=z.dw.val(t)?7:0))},prev:function(t,e){return e=!(7<e)&&e||7,z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)+(e-z.dw.val(t))+(e>=z.dw.val(t)?-7:0))}},z.dayOfYear=z.dy={name:"day of year",range:86400,val:function(t){return t.dy||(t.dy=Math.ceil(1+(z.D.start(t).getTime()-z.Y.start(t).getTime())/z.DAY))},isValid:function(t,e){return z.dy.val(t)===(e||z.dy.extent(t)[1])},extent:function(t){var e=z.Y.val(t);return t.dyExtent||(t.dyExtent=[1,e%4?365:366])},start:function(t){return z.D.start(t)},end:function(t){return z.D.end(t)},next:function(t,e){e=e>z.dy.extent(t)[1]?1:e;var t=z.date.nextRollover(t,e,z.dy,z.Y),n=z.dy.extent(t)[1];return e=n<e?1:e||n,z.date.next(z.Y.val(t),z.M.val(t),e)},prev:function(t,e){var t=z.date.prevRollover(t,e,z.dy,z.Y),n=z.dy.extent(t)[1];return e=!(n<e)&&e||n,z.date.prev(z.Y.val(t),z.M.val(t),e)}},z.hour=z.h={name:"hour",range:3600,val:function(t){return t.h||(t.h=z.date.getHour.call(t))},isValid:function(t,e){return z.h.val(t)===e},extent:function(){return[0,23]},start:function(t){return t.hStart||(t.hStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t),z.h.val(t)))},end:function(t){return t.hEnd||(t.hEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t),z.h.val(t)))},next:function(t,e){e=23<e?0:e;let n=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)+(e<=z.h.val(t)?1:0),e);return n=!z.date.isUTC&&n.getTime()<=t.getTime()?z.date.next(z.Y.val(n),z.M.val(n),z.D.val(n),e+1):n},prev:function(t,e){return e=23<e?23:e,z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)+(e>=z.h.val(t)?-1:0),e)}},z.minute=z.m={name:"minute",range:60,val:function(t){return t.m||(t.m=z.date.getMin.call(t))},isValid:function(t,e){return z.m.val(t)===e},extent:function(t){return[0,59]},start:function(t){return t.mStart||(t.mStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t),z.h.val(t),z.m.val(t)))},end:function(t){return t.mEnd||(t.mEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t),z.h.val(t),z.m.val(t)))},next:function(t,e){var n=z.m.val(t),a=z.s.val(t),e=59<e?60-n:e<=n?60-n+e:e-n;let r=new Date(t.getTime()+e*z.MIN-a*z.SEC);return r=!z.date.isUTC&&r.getTime()<=t.getTime()?new Date(t.getTime()+(e+120)*z.MIN-a*z.SEC):r},prev:function(t,e){return e=59<e?59:e,z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t),z.h.val(t)+(e>=z.m.val(t)?-1:0),e)}},z.month=z.M={name:"month",range:2629740,val:function(t){return t.M||(t.M=z.date.getMonth.call(t)+1)},isValid:function(t,e){return z.M.val(t)===(e||12)},extent:function(){return[1,12]},start:function(t){return t.MStart||(t.MStart=z.date.next(z.Y.val(t),z.M.val(t)))},end:function(t){return t.MEnd||(t.MEnd=z.date.prev(z.Y.val(t),z.M.val(t)))},next:function(t,e){return e=12<e?1:e||12,z.date.next(z.Y.val(t)+(e>z.M.val(t)?0:1),e)},prev:function(t,e){return e=!(12<e)&&e||12,z.date.prev(z.Y.val(t)-(e>=z.M.val(t)?1:0),e)}},z.monthEx=z.MX={name:"monthEx",range:2629740,val:function(t){return t.MX||(t.MX=z.date.diffInMonths(z.MX.start(z.DX.rangeStart),z.MX.start(t)))},isValid:function(t,e){return z.MX.val(t)===(e||z.MX.extent(t)[1])},extent:function(t){var e;return t.MXExtent||(e=z.date.diffInMonths(z.MX.start(z.DX.rangeStart),z.MX.start(z.DX.rangeEnd)),t.MXExtent=[1,e])},start:function(t){return t.MXStart||(t.MXStart=z.date.startOfMonth(t))},end:function(t){return t.MXEnd||(t.MXEnd=z.date.endOfMonth(t))},next:function(t,e){var n=new Date(z.MX.start(z.DX.rangeStart));return n.setMonth(n.getMonth()+e),n},prev:function(t,e){var n=new Date(z.MX.start(z.DX.rangeStart));return n.setMonth(n.getMonth()+e),n.setTime(n.getTime()-z.SEC),n}},z.second=z.s={name:"second",range:1,val:function(t){return t.s||(t.s=z.date.getSec.call(t))},isValid:function(t,e){return z.s.val(t)===e},extent:function(){return[0,59]},start:function(t){return t},end:function(t){return t},next:function(t,e){var n=z.s.val(t),e=59<e?60-n:e<=n?60-n+e:e-n;let a=new Date(t.getTime()+e*z.SEC);return a=!z.date.isUTC&&a.getTime()<=t.getTime()?new Date(t.getTime()+(e+7200)*z.SEC):a},prev:function(t,e,n){return e=59<e?59:e,z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t),z.h.val(t),z.m.val(t)+(e>=z.s.val(t)?-1:0),e)}},z.time=z.t={name:"time",range:1,val:function(t){return t.t||(t.t=3600*z.h.val(t)+60*z.m.val(t)+z.s.val(t))},isValid:function(t,e){return z.t.val(t)===e},extent:function(){return[0,86399]},start:function(t){return t},end:function(t){return t},next:function(t,e){e=86399<e?0:e;let n=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)+(e<=z.t.val(t)?1:0),0,0,e);return n=!z.date.isUTC&&n.getTime()<t.getTime()?z.date.next(z.Y.val(n),z.M.val(n),z.D.val(n),z.h.val(n),z.m.val(n),e+7200):n},prev:function(t,e){return e=86399<e?86399:e,z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)+(e>=z.t.val(t)?-1:0),0,0,e)}},z.weekOfMonth=z.wm={name:"week of month",range:604800,val:function(t){return t.wm||(t.wm=(z.D.val(t)+(z.dw.val(z.M.start(t))-1)+(7-z.dw.val(t)))/7)},isValid:function(t,e){return z.wm.val(t)===(e||z.wm.extent(t)[1])},extent:function(t){return t.wmExtent||(t.wmExtent=[1,(z.D.extent(t)[1]+(z.dw.val(z.M.start(t))-1)+(7-z.dw.val(z.M.end(t))))/7])},start:function(t){return t.wmStart||(t.wmStart=z.date.next(z.Y.val(t),z.M.val(t),Math.max(z.D.val(t)-z.dw.val(t)+1,1)))},end:function(t){return t.wmEnd||(t.wmEnd=z.date.prev(z.Y.val(t),z.M.val(t),Math.min(z.D.val(t)+(7-z.dw.val(t)),z.D.extent(t)[1])))},next:function(t,e){e=e>z.wm.extent(t)[1]?1:e;var t=z.date.nextRollover(t,e,z.wm,z.M),n=z.wm.extent(t)[1];return e=n<e?1:e||n,z.date.next(z.Y.val(t),z.M.val(t),Math.max(1,7*(e-1)-(z.dw.val(t)-2)))},prev:function(t,e){var t=z.date.prevRollover(t,e,z.wm,z.M),n=z.wm.extent(t)[1];return e=!(n<e)&&e||n,z.wm.end(z.date.next(z.Y.val(t),z.M.val(t),Math.max(1,7*(e-1)-(z.dw.val(t)-2))))}},z.weekOfYear=z.wy={name:"week of year (ISO)",range:604800,val:function(t){var e,n;return t.wy||(e=z.dw.next(z.wy.start(t),5),n=z.dw.next(z.Y.prev(e,z.Y.val(e)-1),5),t.wy=1+Math.ceil((e.getTime()-n.getTime())/z.WEEK))},isValid:function(t,e){return z.wy.val(t)===(e||z.wy.extent(t)[1])},extent:function(t){var e,n;return t.wyExtent||(n=z.dw.next(z.wy.start(t),5),e=z.dw.val(z.Y.start(n)),n=z.dw.val(z.Y.end(n)),t.wyExtent=[1,5===e||5===n?53:52])},start:function(t){return t.wyStart||(t.wyStart=z.date.next(z.Y.val(t),z.M.val(t),z.D.val(t)-(1<z.dw.val(t)?z.dw.val(t)-2:6)))},end:function(t){return t.wyEnd||(t.wyEnd=z.date.prev(z.Y.val(t),z.M.val(t),z.D.val(t)+(1<z.dw.val(t)?8-z.dw.val(t):0)))},next:function(t,e){e=e>z.wy.extent(t)[1]?1:e;t=z.dw.next(z.wy.start(t),5);let n=z.date.nextRollover(t,e,z.wy,z.Y);1!==z.wy.val(n)&&(n=z.dw.next(n,2));var t=z.wy.extent(n)[1],a=z.wy.start(n);return e=t<e?1:e||t,z.date.next(z.Y.val(a),z.M.val(a),z.D.val(a)+7*(e-1))},prev:function(t,e){t=z.dw.next(z.wy.start(t),5);let n=z.date.prevRollover(t,e,z.wy,z.Y);1!==z.wy.val(n)&&(n=z.dw.next(n,2));var t=z.wy.extent(n)[1],a=z.wy.end(n);return e=!(t<e)&&e||t,z.wy.end(z.date.next(z.Y.val(a),z.M.val(a),z.D.val(a)+7*(e-1)))}},z.weekEx=z.WX={name:"weekEx",range:604800,val:function(t){return t.WX||(t.WX=Math.ceil(z.date.diffInDays(z.WX.start(z.DX.rangeStart),z.WX.start(t))/7))},isValid:function(t,e){return z.WX.val(t)===(e||z.WX.extent(t)[1])},extent:function(t){var e;return t.WXExtent||(e=Math.floor(z.date.diffInDays(z.WX.start(z.DX.rangeStart),z.WX.start(z.DX.rangeEnd))/7),t.WXExtent=[1,e])},start:function(t){return t.WXStart||(t.WXStart=z.date.startOfWeek(t))},end:function(t){return t.WXEnd||(t.WXEnd=z.date.endOfWeek(t))},next:function(t,e){return z.date.timeless(new Date(z.WX.start(z.DX.rangeStart).getTime()+e*z.WEEK))},prev:function(t,e){e=z.date.timeless(new Date(z.WX.start(z.DX.rangeStart).getTime()+e*z.WEEK));return e.setTime(e.getTime()-z.SEC),e}},z.year=z.Y={name:"year",range:31556900,val:function(t){return t.Y||(t.Y=z.date.getYear.call(t))},isValid:function(t,e){return z.Y.val(t)===e},extent:function(){return[1970,2099]},start:function(t){return t.YStart||(t.YStart=z.date.next(z.Y.val(t)))},end:function(t){return t.YEnd||(t.YEnd=z.date.prev(z.Y.val(t)))},next:function(t,e){return e>z.Y.val(t)&&e<=z.Y.extent()[1]?z.date.next(e):z.NEVER},prev:function(t,e){return e<z.Y.val(t)&&e>=z.Y.extent()[0]?z.date.prev(e):z.NEVER}},z.fullDate=z.fd={name:"full date",range:1,val:function(t){return t.fd||(t.fd=t.getTime())},isValid:function(t,e){return z.fd.val(t)===e},extent:function(){return[0,3250368e7]},start:function(t){return t},end:function(t){return t},next:function(t,e){return z.fd.val(t)<e?new Date(e):z.NEVER},prev:function(t,e){return z.fd.val(t)>e?new Date(e):z.NEVER}},z.modifier={},z.modifier.after=z.modifier.a=function(n,t){let a=t[0];return{name:"after "+n.name,range:(n.extent(new Date)[1]-a)*n.range,val:n.val,isValid:function(t,e){return this.val(t)>=a},extent:n.extent,start:n.start,end:n.end,next:function(t,e){return e!=a&&(e=n.extent(t)[0]),n.next(t,e)},prev:function(t,e){return e=e===a?n.extent(t)[1]:a-1,n.prev(t,e)}}},z.modifier.before=z.modifier.b=function(n,t){let a=t[t.length-1];return{name:"before "+n.name,range:n.range*(a-1),val:n.val,isValid:function(t,e){return this.val(t)<a},extent:n.extent,start:n.start,end:n.end,next:function(t,e){return e=e===a?n.extent(t)[0]:a,n.next(t,e)},prev:function(t,e){return e=e===a?a-1:n.extent(t)[1],n.prev(t,e)}}},z.compile=function(t){let o=[],d=0,f;for(var e in t){var n=e.split("_"),a=n[0],n=n[1],e=t[e],n=n?z.modifier[n](z[a],e):z[a];o.push({constraint:n,vals:e}),d++}return o.sort(function(t,e){t=t.constraint.range,e=e.constraint.range;return e<t?-1:t<e?1:0}),f=o[d-1].constraint,{start:function(e,t){let n=t;var a=z.array[e];let r=1e3,l;for(;r--&&!l&&n;){l=!0;for(let t=0;t<d;t++){var u=o[t].constraint,i=u.val(n),v=u.extent(n),i=a(i,o[t].vals,v);if(!u.isValid(n,i)){n=u[e](n,i),l=!1;break}}}return n=n!==z.NEVER?"next"===e?f.start(n):f.end(n):n},end:function(e,n){let a;var r=z.array[e+"Invalid"],l="next"===e?function(t,e){return t.getTime()>e.getTime()}:function(t,e){return e.getTime()>t.getTime()};for(let t=d-1;0<=t;t--){var u=o[t].constraint,i=u.val(n),v=u.extent(n),i=r(i,o[t].vals,v);void 0===i||!(v=u[e](n,i))||a&&!l(a,v)||(a=v)}return a},tick:function(t,e){return new Date("next"===t?f.end(e).getTime()+z.SEC:f.start(e).getTime()-z.SEC)},tickStart:function(t){return f.start(t)}}},z.schedule=function(e){if(!e)throw new Error("Missing schedule definition.");if(!e.schedules)throw new Error("Definition must include at least one schedule.");let U=[],n=e.schedules.length,F=[],H=e.exceptions?e.exceptions.length:0;for(let t=0;t<n;t++)U.push(z.compile(e.schedules[t]));for(let t=0;t<H;t++)F.push(z.compile(e.exceptions[t]));function a(t,e,n,a,r){var l=j(t),u=[],i=[],v=[],o="next"===t,d=o?0:1,f=o?1:0;let c,s,D,x=1e3,g=e;if(!(n=n?new Date(n):new Date)||!n.getTime())throw new Error("Invalid start date.");var m=t,M=U,w=u,h=n;for(let t=0,e=M.length;t<e;t++)w[t]=M[t].start(m,h);var y=t,E=F,b=i,A=n;j(y);for(let t=0,e=E.length;t<e;t++){var p=E[t].start(y,A);b[t]=p?[p,E[t].end(y,p)]:z.NEVER}for(;x--&&g&&(c=((n,a)=>{let r=n[0];for(let t=1,e=n.length;t<e;t++)n[t]&&a(r,n[t])&&(r=n[t]);return r})(u,l))&&(!a||!l(c,a));){if(H){Y=X=k=S=W=T=void 0;var Y,T=t,W=F,S=i,k=c,X=j(T);for(let t=0,e=W.length;t<e;t++)S[t]&&!X(S[t][0],k)&&(Y=W[t].start(T,k),S[t]=Y?[Y,W[t].end(T,Y)]:z.NEVER);if(s=((t,n,a)=>{let r=j(t),l;for(let t=0,e=n.length;t<e;t++){var u=n[t];!u||r(u[0],a)||u[1]&&!r(u[1],a)||l&&!r(u[1],l)||(l=u[1])}return l})(t,i,c)){_(t,U,u,s);continue}}if(r){var I=((n,a)=>{let r;for(let t=0,e=n.length;t<e;t++)!n[t]||r&&!a(r,n[t][0])||(r=n[t][0]);return r})(i,l),I=(s=((n,a,r,l,u)=>{let i=j(n),v;for(let t=0,e=a.length;t<e;t++){var o=r[t];if(o&&o.getTime()===l.getTime()){o=a[t].end(n,o);if(u&&(!o||i(o,u)))return u;v&&!i(o,v)||(v=o)}}return v})(t,U,u,c,I),o?[new Date(Math.max(n,c)),s?new Date(a?Math.min(s,a):s):void 0]:[s?new Date(a?Math.max(a,s.getTime()+z.SEC):s.getTime()+z.SEC):void 0,new Date(Math.min(n,c.getTime()+z.SEC))]);if(D&&I[d].getTime()===D[f].getTime()?(D[f]=I[f],g++):(D=I,v.push(D)),!s)break;_(t,U,u,s)}else{v.push(o?new Date(Math.max(n,c)):((n,a,r,l)=>{let u;for(let t=0,e=a.length;t<e;t++)if(a[t]&&a[t].getTime()===r.getTime()){var i=n[t].tickStart(r);if(l&&i<l)return l;(!u||i>u)&&(u=i)}return u})(U,u,c,a)),O=C=R=V=void 0;var V=t,R=U,C=u,O=c;for(let t=0,e=R.length;t<e;t++)C[t]&&C[t].getTime()===O.getTime()&&(C[t]=R[t].start(V,R[t].tick(V,O)))}g--}for(let t=0,e=v.length;t<e;t++){var N=v[t];v[t]="[object Array]"===Object.prototype.toString.call(N)?[K(N[0]),K(N[1])]:K(N)}return 0===v.length?z.NEVER:1===e?v[0]:v}function K(t){if(t instanceof Date&&!isNaN(t.valueOf()))return new Date(t)}function _(n,a,r,l){var u=j(n);for(let t=0,e=a.length;t<e;t++)r[t]&&!u(r[t],l)&&(r[t]=a[t].start(n,l))}function j(t){return"next"===t?function(t,e){return!t||!e||t.getTime()>e.getTime()}:function(t,e){return!t||!e||e.getTime()>t.getTime()}}return{isValid:function(t){return a("next",1,t,t)!==z.NEVER},next:function(t,e,n){return a("next",t||1,e,n)},prev:function(t,e,n){return a("prev",t||1,e,n)},nextRange:function(t,e,n){return a("next",t||1,e,n,!0)},prevRange:function(t,e,n){return a("prev",t||1,e,n,!0)}}},z.setTimeout=function(r,t){let l=z.schedule(t),u;return r&&function t(){let e=Date.now(),n=l.next(2,e);if(!n[0])return void(u=void 0);let a=n[0].getTime()-e;a<1e3&&(a=n[1]?n[1].getTime()-e:1e3);u=a<2147483647?setTimeout(r,a):setTimeout(t,2147483647)}(),{isDone:function(){return!u},clear:function(){clearTimeout(u)}}},z.setInterval=function(a,r){if(a){let e=z.setTimeout(function t(){n||(a(),e=z.setTimeout(t,r))},r),n=e.isDone();return{isDone:function(){return e.isDone()},clear:function(){n=!0,e.clear()}}}},z.date={},z.date.timezone=function(t){z.date.build=t?function(t,e,n,a,r,l){return new Date(t,e,n,a,r,l)}:function(t,e,n,a,r,l){return new Date(Date.UTC(t,e,n,a,r,l))};var e=t?"get":"getUTC",n=Date.prototype;z.date.getYear=n[e+"FullYear"],z.date.getMonth=n[e+"Month"],z.date.getDate=n[e+"Date"],z.date.getDay=n[e+"Day"],z.date.getHour=n[e+"Hours"],z.date.getMin=n[e+"Minutes"],z.date.getSec=n[e+"Seconds"],z.date.isUTC=!t},z.date.UTC=function(){z.date.timezone(!1)},z.date.localTime=function(){z.date.timezone(!0)},z.date.UTC(),z.SEC=1e3,z.MIN=60*z.SEC,z.HOUR=60*z.MIN,z.DAY=24*z.HOUR,z.WEEK=7*z.DAY,z.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31],z.NEVER=0,z.date.next=function(t,e,n,a,r,l){return z.date.build(t,void 0!==e?e-1:0,void 0!==n?n:1,a||0,r||0,l||0)},z.date.nextRollover=function(t,e,n,a){var r=n.val(t),n=n.extent(t)[1];return(e||n)<=r||n<e?new Date(a.end(t).getTime()+z.SEC):a.start(t)},z.date.prev=function(t,e,n,a,r,l){var u=arguments.length;return e=u<2?11:e-1,n=u<3?z.D.extent(z.date.next(t,e+1))[1]:n,a=u<4?23:a,r=u<5?59:r,l=u<6?59:l,z.date.build(t,e,n,a,r,l)},z.date.prevRollover=function(t,e,n,a){return n.val(t)<=e||!e?a.start(a.prev(t,a.val(t)-1)):a.start(t)},z.date.diffInDays=function(t,e){return Math.floor((Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())-Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))/z.DAY)},z.date.startOfWeek=function(t){var t=new Date(t.getFullYear(),t.getMonth(),t.getDate()),e=t.getDay(),e=t.getTime()-e*z.DAY;return t.setTime(e),t},z.date.endOfWeek=function(t){t=z.date.startOfWeek(t);return t.setTime(t.getTime()+z.WEEK-z.SEC),t},z.date.diffInMonths=function(t,e){e=12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth());return e<=0?0:e},z.date.startOfMonth=function(t){return new Date(t.getFullYear(),t.getMonth(),1)},z.date.endOfMonth=function(t){t=new Date(t.getFullYear(),t.getMonth()+1,1);return t.setTime(t.getTime()-z.SEC),t},{weekDays:{},weekendDays:{}});function r(t,e){var n=new Date(t,e+1,0).getDate(),a=new Date(t,e,1).getDay()-1,r={weekDays:{values:[],map:{}},weekendDays:{values:[],map:{}}};let l=-1,u=-1;for(let t=1;t<=n;t++){var i=(t+a)%7;0==i||6==i?(r.weekendDays.map[t]={value:l=r.weekendDays.values.push(t)-1,valid:!0},r.weekDays.map[t]={value:u+1,valid:!1}):(r.weekDays.map[t]={value:u=r.weekDays.values.push(t)-1,valid:!0},r.weekendDays.map[t]={value:l+1,valid:!1})}return r}return z.date.weekdaysInMonth=function(t){var e=t.getFullYear(),t=t.getMonth(),n=100*e+t;return(a[n]=a[n]||r(e,t)).weekDays},z.date.weekendDaysInMonth=function(t){var e=t.getFullYear(),t=t.getMonth(),n=100*e+t;return(a[n]=a[n]||r(e,t)).weekendDays},z.date.timeless=function(t){t=new Date(t);return t.setHours(0,0,0,0),t},z})();